:root{
  --bg:#fffaf3;
  --ink:#2d2a26;
  --muted:#8b857e;
  --accent:#ff9f1c;
  --green:#2ec4b6;
  --red:#ff595e;
  --wall:#1f2937;
  --path:#e9ecef;
}
*{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
html,body{height:100%}
body{
  margin:0;
  font-family: ui-rounded, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  color:var(--ink);
  background:var(--bg);
}
.topbar{
  height:56px; display:flex; align-items:center; justify-content:space-between;
  padding:0 16px; border-bottom:1px solid #0001; background:#fff8; backdrop-filter: blur(6px);
  position:sticky; top:0; z-index:10;
}
.brand{font-weight:800; letter-spacing:0.04em}
.coins{font-weight:700}

.screen{display:none; padding:16px 16px 24px; max-width:960px; margin:0 auto}
.screen.active{display:block}

.title{font-size:28px; margin:12px 0 16px}
.card{background:#fff; border-radius:16px; padding:12px 12px 16px; box-shadow:0 6px 20px #00000012; margin-bottom:12px}
.age-grid,.theme-grid{display:grid; grid-template-columns:repeat(4,1fr); gap:8px}
.theme-grid{grid-template-columns:repeat(2,1fr)}
.chip{padding:12px 10px; border:2px solid #0000; border-radius:14px; background:#f6f6f8; font-weight:700}
.chip[aria-pressed="true"], .chip.selected{border-color:var(--accent); background:#fff2e1}
.chip:disabled{opacity:.5}
.chip.locked{opacity:.6}

.cta{width:100%; padding:14px 16px; font-size:18px; border:none; border-radius:14px; background:var(--green); color:white; font-weight:800}
.cta:disabled{background:#c8e9e5; color:#fff}

.ghost{appearance:none; background:#0000; border:1.5px solid #0002; padding:8px 12px; border-radius:12px}
.hud{display:flex; align-items:center; justify-content:space-between; gap:8px; margin:8px 0}
.levelTag{font-weight:700; color:var(--muted)}

.canvasWrap{position:relative; width:100%; aspect-ratio:1/1; background:#fff; border-radius:16px; box-shadow:0 8px 24px #00000014; overflow:hidden}
#gameCanvas{width:100%; height:100%; touch-action:none;}

.help{text-align:center; color:var(--muted); margin-top:10px}

.toast{position:fixed; left:50%; transform:translateX(-50%); bottom:16px; background:#111; color:#fff; padding:10px 14px; border-radius:999px; opacity:0; pointer-events:none; transition:opacity .25s, transform .25s;}
.toast.show{opacity:1; transform:translateX(-50%) translateY(-6px)}

@media (min-width: 840px){
  .screen{padding:16px 24px 32px}
}
